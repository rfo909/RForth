: pOut (pin) NATIVE Pin.ModeOut ;
: pIn (pin) NATIVE Pin.ModeIn ;
: zzz (ms) NATIVE Sys.Delay ;
: pw (val pin -- ) NATIVE Pin.WriteDigital ;

(a plain blink)

: Main 13 pOut 
  BEGIN
  1 13 pw
  200 zzz
  0 13 pw
  200 zzz
  key not AGAIN?
  0 13 pw
;     


(To make a project automatically runnable)

: save 64 0 0x50 NATIVE I2C.EE.save ;
: load 64 0 0x50 NATIVE I2C.EE.load ;

(note: load is ok to undo recent changes
 as long as those don't rewrite the load word 
 itself!
)

: noAutorun NATIVE Sys.EE.ClearAutorun ;



save 

(set up autorun)

"Main ?C CONSTANT MainRef

: autorun 
  64 0 0x50 NATIVE I2C.EE.load 
  MainRef (return pointer to Main - after load)
;

"autorun ?C NATIVE Sys.EE.SetAutorun 



