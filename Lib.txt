# Utility

: Reg! ( :byte =clearMask :byte =valueMask :int =addr -- )
	addr sys:read clearMask ! &
		valueMask clearMask & | addr sys:write ;

: wait ( :ulong =ms )
	 sys:millis ms + =ms loop{ sys:millis ms > break  } ;


# ADDR constants, corresponding to defines in Common (oc=on-chip)

: $aloc:oc:str		    1 ;  
: $aloc:oc:bin		    2 ;
: $aloc:oc:progmem	    3 ;
: $aloc:oc:ee		    4 ;

: $atyp:symbol			1 ;
: $atyp:blob			2 ;


